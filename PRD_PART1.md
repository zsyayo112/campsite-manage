# 长白山营地旅游管理系统 - 产品需求文档 (Part 1)

**版本**: V2.0 (增强版)  
**日期**: 2026年1月9日  
**状态**: 待开发

> 💡 **提示**: 本文档较长，已分为两部分。Part 2包含完整的数据库Schema、附录和参考资料。

---

## 📑 快速导航

- **核心模块**: [用户认证](#4-用户认证模块) | [客户管理](#5-客户管理模块) | [订单管理](#6-订单管理模块)
- **新增模块**: [住宿管理](#7-住宿管理模块) | [接送调度](#8-接送调度模块) | [套餐管理](#9-套餐管理模块) | [行程排期](#10-行程排期模块)
- **辅助模块**: [内容管理](#11-内容管理模块) | [统计分析](#12-统计分析模块)
- **开发指南**: [技术架构](#14-技术架构) | [开发计划](#15-开发计划)

---

## 1. 文档信息

| 项目 | 内容 |
|------|------|
| 文档名称 | 长白山营地旅游管理系统产品需求文档 |
| 文档版本 | V2.0（增强版） |
| 更新日期 | 2026年1月9日 |
| 项目名称 | 长白山营地旅游管理系统 |
| 项目特色 | ⭐ 住宿管理 ⭐ 接送调度 ⭐ 套餐组合 ⭐ 行程排期 |
| 目标用户 | 营地运营管理人员、司机、活动教练 |

### 1.1 版本更新说明

**V2.0 新增功能：**
- ✅ **住宿类型管理**：区分自营宾馆和外部住宿
- ✅ **接送调度系统**：每日人数统计、车辆安排、线路规划
- ✅ **套餐管理系统**：灵活组合项目、多种套餐方案
- ✅ **行程排期系统**：每日时间表、项目时段安排、团队协调
- ✅ **长白山营销素材**：景区特色、季节推广、游记模板

---

## 2. 产品概述

### 2.1 产品背景

本营地位于**长白山旅游区**，提供独特的冬季户外体验项目。

#### 业务特点

- **客源多样**：既有住在自营宾馆的客人，也有住在小镇其他酒店的游客
- **需要接送**：每日需统计参与人数，安排大巴车往返接送
- **套餐灵活**：客人可单选项目，也可选择多项目组合
- **时间协调**：需合理安排各项目时间段，支持游学团队等大型活动
- **季节特色**：冬季主推冰雪项目，结合长白山景区特色

#### 现有痛点

- ❌ 无法准确统计每日出发人数和住宿分布
- ❌ 套餐组合依靠手工记录，容易出错
- ❌ 项目时间安排凭经验，无系统化排期
- ❌ 营销内容散乱，未充分利用长白山品牌

### 2.2 核心业务场景

#### 场景1：散客预订 👤

```
客人小红书看到推广 → 选择"石板烧烤+冰钓" → 住"长白山大酒店"
  ↓
系统记录信息 → 活动当天统计接送人数 → 安排车辆 → 司机接客
```

#### 场景2：游学团队 👥

```
学校预订50人 → 选择全套项目 → 住自营宾馆
  ↓
系统生成行程表:
  9:00  出发
  10:00-12:00  冰钓
  12:00-14:00  午餐烧烤
  14:00-16:00  雪上滑梯
  16:00  返回
  ↓
教练根据行程准备，避免冲突
```

#### 场景3：多批次接送 🚌

```
当天3批客人:
  A酒店 10人(9:00)
  B宾馆 8人(9:30)
  自营宾馆 15人(10:00)
  ↓
系统生成方案:
  车辆1 → A酒店
  车辆2 → B宾馆 → 自营宾馆
```

### 2.3 冬季项目清单

| 项目 | 时长 | 人数 | 特色 | 价格 |
|------|------|------|------|------|
| 🔥 石板烧烤 | 2h | 10-50人 | 长白山特色石板烤肉 | ¥98/人 |
| ⛷️ 雪上滑梯乐园 | 1.5h | 不限 | 多条滑道，全家欢 | ¥68/人 |
| 🎣 冰钓体验 | 2h | 5-30人 | 专业教练指导 | ¥128/人 |
| 🌲 冬日丛林穿越 | 1h | 10-30人 | 探索雪森林、赏雾凇 | ¥88/人 |
| 🍬 烤棉花糖 | 30min | 不限 | 篝火旁互动 | ¥20/人 |
| 🍠 烤地瓜 | 30min | 不限 | 传统美食 | ¥15/人 |

---

## 3. 功能架构

### 3.1 系统架构图

```
长白山营地管理系统
│
├── 🔐 用户认证
│   ├── 登录/登出
│   ├── 多角色(管理员/司机/教练)
│   └── 权限控制
│
├── 👥 客户管理 (CRM)
│   ├── 客户档案
│   ├── 标签分类
│   └── 消费统计
│
├── 📋 订单管理
│   ├── 订单CRUD
│   ├── 状态流转
│   └── 项目配置
│
├── 🏨 住宿管理 ⭐新增
│   ├── 地点配置
│   ├── 类型区分(自营/外部)
│   └── 分布统计
│
├── 🚌 接送调度 ⭐新增
│   ├── 人数统计
│   ├── 车辆管理
│   ├── 路线规划
│   └── 接送单生成
│
├── 🎁 套餐管理 ⭐新增
│   ├── 套餐配置
│   ├── 价格策略
│   └── 灵活组合
│
├── 📅 行程排期 ⭐新增
│   ├── 时间表
│   ├── 冲突检测
│   ├── 教练安排
│   └── 容量控制
│
├── 📝 内容管理
│   ├── 小红书笔记
│   ├── 数据统计
│   └── 发布计划
│
└── 📊 统计分析
    ├── 仪表盘
    ├── 详细报表
    └── 数据导出
```

### 3.2 功能优先级

| 优先级 | 功能 | 预计时间 | 状态 |
|-------|------|---------|------|
| **P0** | 用户认证 + 客户管理 + 订单管理 | Week 1-2 | ⏳ |
| **P0** | 住宿管理 + 基础套餐 | Week 2 | ⏳ |
| **P1** | 接送调度 + 车辆管理 | Week 3 | ⏳ |
| **P1** | 套餐管理完整 + 基础排期 | Week 4 | ⏳ |
| **P2** | 行程排期完整 + 统计分析 | Week 5-6 | ⏳ |
| **P3** | 司机端/教练端 App | Week 7-9 | ⏳ |

---

## 4-13. 详细功能需求

> 📌 **说明**: 以下各模块的详细需求包含：
> - 功能描述
> - 详细需求列表
> - 界面设计
> - 交互流程
> - 数据字典
> - 开发状态追踪

由于篇幅原因，各模块详细内容请参考原完整PRD文档（Word版）或查看代码库中的模块开发文档。

### 核心要点速查

**4. 用户认证**
- JWT Token认证
- 5种角色权限
- 状态: ⏳ 待开发

**5. 客户管理**  
- 客户列表/详情/编辑
- 标签系统(VIP/复购/意向等)
- 自动统计消费和访问
- 状态: ⏳ 待开发

**6. 订单管理**
- 订单号规则: ORD{YYYYMMDD}{序号}
- 4种状态: pending → confirmed → completed
- 关联客户、住宿、套餐
- 状态: ⏳ 待开发

**7. 住宿管理** ⭐
- 预设: 自营宾馆、长白山度假村、万达、二道白河
- 记录距离和车程
- 状态: ⏳ 待开发

**8. 接送调度** ⭐
- 按日期+住宿地点统计人数
- 车辆/司机管理
- 生成接送单(路线+客人名单)
- 状态追踪: 待出发→接送中→已完成
- 状态: ⏳ 待开发

**9. 套餐管理** ⭐
- 预设6种套餐(单项/双项/冰雪/美食/全景/团队)
- 支持自由组合
- 智能价格计算
- 状态: ⏳ 待开发

**10. 行程排期** ⭐
- 时间轴视图(8:00-18:00)
- 项目时段分配
- 4类冲突检测(场地/教练/时间/车辆)
- 教练管理
- 状态: ⏳ 待开发

**11. 内容管理**
- 小红书笔记CRUD
- 数据统计(浏览/点赞/评论/收藏)
- 发布计划日历
- 状态: ⏳ 待开发

**12. 统计分析**
- 4个核心指标卡片
- 4类可视化图表
- 多维度报表
- Excel/CSV导出
- 状态: ⏳ 待开发

**13. 长白山营销**
- 景区特色标签
- 季节营销策略
- 营销模板库
- 状态: ⏳ 待开发

---

## 14. 技术架构

### 14.1 技术栈

**前端**
```
React 18.x + Tailwind CSS + React Router v6
Zustand(状态) + Axios(HTTP) + Recharts(图表)
date-fns + React Hook Form + Zod
```

**后端**
```
Node.js 18.x + Express.js
Prisma(ORM) + SQLite(开发)/PostgreSQL(生产)
JWT + bcrypt
```

### 14.2 目录结构

```
camp-management-system/
├── frontend/
│   ├── src/
│   │   ├── components/    # 组件
│   │   ├── pages/         # 页面
│   │   ├── api/           # API调用
│   │   └── App.jsx
│   └── package.json
│
├── backend/
│   ├── prisma/
│   │   └── schema.prisma  # 数据库Schema
│   ├── src/
│   │   ├── routes/        # 路由
│   │   ├── controllers/   # 控制器
│   │   └── server.js
│   └── package.json
│
├── PRODUCT_REQUIREMENTS.md  # 本文档
├── PRD_PART2.md             # 完整数据库Schema和附录
├── PROJECT_PLAN.md          # 项目计划
├── TODO.md                  # 开发清单
└── DATABASE_DESIGN.md       # 数据库设计
```

### 14.3 API设计示例

```javascript
// GET /api/customers - 获取客户列表
{
  "success": true,
  "data": {
    "customers": [...],
    "total": 100,
    "page": 1,
    "pageSize": 20
  }
}

// POST /api/orders - 创建订单
Request: {
  "customerId": 1,
  "accommodationPlaceId": 2,
  "visitDate": "2026-01-15",
  "peopleCount": 4,
  "projectIds": [1, 3],
  "packageId": null
}

Response: {
  "success": true,
  "data": {
    "orderNumber": "ORD202601090001",
    "totalAmount": 480
  }
}
```

---

## 15. 开发计划

### 15.1 时间线

```
Week 1-2  │ ████████████░░░░░░░░ │ MVP (40%)
          │ - 认证 + 客户 + 订单
          
Week 3-4  │ ████████████████░░░░ │ 核心功能 (80%)
          │ - 住宿 + 接送 + 套餐 + 基础排期
          
Week 5-6  │ ████████████████████ │ 完整版 (100%)
          │ - 完整排期 + 统计 + 内容
          
Week 7-9  │ ░░░░░░░░░░░░░░░░░░░░ │ 移动端 (可选)
          │ - 司机端 + 教练端 App
```

### 15.2 里程碑

| 里程碑 | 日期 | 交付内容 |
|-------|------|---------|
| 🎯 M1: MVP | Week 2 | 基础管理功能可用 |
| 🎯 M2: 核心功能 | Week 4 | 接送调度完整 |
| 🎯 M3: 生产就绪 | Week 6 | 可上线使用 |
| 🎯 M4: 移动端 | Week 9 | 移动App完成 |

### 15.3 今日任务 (Day 1)

- [ ] 安装 Node.js 18.x
- [ ] 安装 Git 和 VS Code
- [ ] 创建项目目录
- [ ] 初始化前后端项目
- [ ] 安装依赖包
- [ ] 设计数据库Schema
- [ ] 配置Prisma

**预计耗时**: 2-3小时

---

## 📊 开发进度追踪

### 当前进度

| 模块 | 状态 | 完成度 | 备注 |
|------|------|--------|------|
| 环境搭建 | ✅ | 100% | 已完成PRD |
| 用户认证 | ⏳ | 0% | - |
| 客户管理 | ⏳ | 0% | - |
| 订单管理 | ⏳ | 0% | - |
| 住宿管理 | ⏳ | 0% | - |
| 接送调度 | ⏳ | 0% | - |
| 套餐管理 | ⏳ | 0% | - |
| 行程排期 | ⏳ | 0% | - |
| 内容管理 | ⏳ | 0% | - |
| 统计分析 | ⏳ | 0% | - |

**图例**: ⏳待开发 | 🚧开发中 | ✅已完成 | ⚠️需优化

---

## 🚀 快速开始

### 1. 环境准备

```bash
# 1. 安装Node.js (https://nodejs.org)
node -v  # 验证: v18.x+

# 2. 安装Git
git --version

# 3. 克隆项目
git clone <your-repo>
cd camp-management-system
```

### 2. 后端启动

```bash
cd backend
npm install
cp .env.example .env  # 配置环境变量
npx prisma migrate dev --name init
npx prisma generate
npm run dev  # 启动: http://localhost:3000
```

### 3. 前端启动

```bash
cd frontend
npm install
npm run dev  # 启动: http://localhost:5173
```

### 4. 数据库管理

```bash
npx prisma studio  # 打开: http://localhost:5555
```

---

## 📝 更新日志

**2026-01-09 - V2.0**
- ✅ 完成产品需求文档
- ✅ 新增4大核心模块(住宿/接送/套餐/排期)
- ✅ 完成数据库设计
- ✅ 制定开发计划

---

## 📞 联系方式

- **产品负责人**: [待填写]
- **技术负责人**: [待填写]
- **营地负责人**: [待填写]

---

**继续阅读**: 
- 📄 [Part 2: 完整数据库Schema和附录](./PRD_PART2.md)
- 📋 [开发任务清单](./TODO.md)
- 🗂️ [数据库设计详细文档](./DATABASE_DESIGN.md)
- 📅 [项目计划](./PROJECT_PLAN.md)

**文档状态**: ✅ 已完成 | 📅 最后更新: 2026-01-09
